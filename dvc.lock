schema: '2.0'
stages:
  prepare_data:
    cmd: python src/data/make_dataset.py data/external data/processed
    deps:
    - path: data/external
      md5: b6c29e96813679dd8c451c9b5ca86e2c.dir
      size: 11594722
      nfiles: 4
    - path: src/data/make_dataset.py
      md5: 6ae59b919a6648ce23c55126c038d6f6
      size: 2536
    params:
      params.yaml:
        prepare_data.seed: 20220705
        prepare_data.val_split: 0.2
    outs:
    - path: data/processed
      md5: 6f04d5a4db822ad3744c2373b1775bcb.dir
      size: 11515201
      nfiles: 3
  train:
    cmd: python src/models/train_model.py data/processed models/model.h5 reports/train
    deps:
    - path: data/processed
      md5: 6f04d5a4db822ad3744c2373b1775bcb.dir
      size: 11515201
      nfiles: 3
    - path: src/models/train_model.py
      md5: 32fb247905fffe00edf4112be7ee47f4
      size: 2680
    params:
      params.yaml:
        train.batch_size: 128
        train.epochs: 5
        train.seed: 20220705
    outs:
    - path: models/model.h5
      md5: e9aa9499ed2874333fd98dce3e0f854f
      size: 7139736
  evaluate:
    cmd: python src/models/evaluate_model.py data/processed models/model.h5 reports/evaluate
    deps:
    - path: data/processed
      md5: 6f04d5a4db822ad3744c2373b1775bcb.dir
      size: 11515201
      nfiles: 3
    - path: models/model.h5
      md5: e9aa9499ed2874333fd98dce3e0f854f
      size: 7139736
    - path: src/models/evaluate_model.py
      md5: 88f6895dbdaa6641b01b44b4370e4305
      size: 2381
    outs:
    - path: reports/evaluate.json
      md5: 7ceec601cbf35fe4b2640acd40928d54
      size: 284

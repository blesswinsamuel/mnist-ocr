schema: '2.0'
stages:
  prepare_data:
    cmd: python src/data/make_dataset.py data/external data/processed
    deps:
    - path: data/external
      md5: b6c29e96813679dd8c451c9b5ca86e2c.dir
      size: 11594722
      nfiles: 4
    - path: src/data/make_dataset.py
      md5: 6ae59b919a6648ce23c55126c038d6f6
      size: 2536
    params:
      params.yaml:
        prepare_data.seed: 20220705
        prepare_data.val_split: 0.2
    outs:
    - path: data/processed
      md5: 6f04d5a4db822ad3744c2373b1775bcb.dir
      size: 11515201
      nfiles: 3
  train:
    cmd: python src/models/train_model.py data/processed models/model.h5 reports/train
    deps:
    - path: data/processed
      md5: 6f04d5a4db822ad3744c2373b1775bcb.dir
      size: 11515201
      nfiles: 3
    - path: src/models/train_model.py
      md5: f8776e31d2b19c50bb3027e3f213af69
      size: 2321
    params:
      params.yaml:
        train.batch_size: 128
        train.epochs: 6
        train.seed: 20220705
    outs:
    - path: models/model.h5
      md5: 81ba069b3bf1993334146ab1308769f5
      size: 1248360
  evaluate:
    cmd: python src/models/evaluate_model.py data/processed models/model.h5 reports/evaluate
    deps:
    - path: data/processed
      md5: 6f04d5a4db822ad3744c2373b1775bcb.dir
      size: 11515201
      nfiles: 3
    - path: models/model.h5
      md5: 81ba069b3bf1993334146ab1308769f5
      size: 1248360
    - path: src/models/evaluate_model.py
      md5: 88f6895dbdaa6641b01b44b4370e4305
      size: 2381
    outs:
    - path: reports/evaluate.json
      md5: 2c5cd745c72ddd435fdf8bec298c5287
      size: 289
